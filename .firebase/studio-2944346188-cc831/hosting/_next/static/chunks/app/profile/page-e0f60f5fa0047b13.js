(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{7870:(e,r,s)=>{"use strict";s.d(r,{H4:()=>v,_V:()=>N,bL:()=>y});var a=s(12115),t=s(3468),l=s(70222),i=s(4129),n=s(88142),d=s(95155),o="Avatar",[c,m]=(0,t.A)(o),[x,h]=c(o),u=a.forwardRef((e,r)=>{let{__scopeAvatar:s,...t}=e,[l,i]=a.useState("idle");return(0,d.jsx)(x,{scope:s,imageLoadingStatus:l,onImageLoadingStatusChange:i,children:(0,d.jsx)(n.sG.span,{...t,ref:r})})});u.displayName=o;var f="AvatarImage",p=a.forwardRef((e,r)=>{let{__scopeAvatar:s,src:t,onLoadingStatusChange:o=()=>{},...c}=e,m=h(f,s),x=function(e,r){let[s,t]=a.useState("idle");return(0,i.N)(()=>{if(!e)return void t("error");let s=!0,a=new window.Image,l=e=>()=>{s&&t(e)};return t("loading"),a.onload=l("loaded"),a.onerror=l("error"),a.src=e,r&&(a.referrerPolicy=r),()=>{s=!1}},[e,r]),s}(t,c.referrerPolicy),u=(0,l.c)(e=>{o(e),m.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==x&&u(x)},[x,u]),"loaded"===x?(0,d.jsx)(n.sG.img,{...c,ref:r,src:t}):null});p.displayName=f;var j="AvatarFallback",g=a.forwardRef((e,r)=>{let{__scopeAvatar:s,delayMs:t,...l}=e,i=h(j,s),[o,c]=a.useState(void 0===t);return a.useEffect(()=>{if(void 0!==t){let e=window.setTimeout(()=>c(!0),t);return()=>window.clearTimeout(e)}},[t]),o&&"loaded"!==i.imageLoadingStatus?(0,d.jsx)(n.sG.span,{...l,ref:r}):null});g.displayName=j;var y=u,N=p,v=g},16802:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(14294).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},22452:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(14294).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},27314:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(14294).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},38132:(e,r,s)=>{"use strict";s.d(r,{e:()=>C});var a=s(95155),t=s(12115),l=s(52619),i=s.n(l),n=s(20063),d=s(94972),o=s(16802),c=s(22452),m=s(27314),x=s(75004),h=s(98428),u=s(27936),f=s(21952),p=s(59253),j=s(3998),g=s(7870),y=s(64269);let N=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(g.bL,{ref:r,className:(0,y.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t})});N.displayName=g.bL.displayName,t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(g._V,{ref:r,className:(0,y.cn)("aspect-square h-full w-full",s),...t})}).displayName=g._V.displayName;let v=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(g.H4,{ref:r,className:(0,y.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t})});v.displayName=g.H4.displayName;var b=s(449),w=s(76604),k=s(6259);let A=[{href:"/expenses",label:"Despesas",icon:d.A},{href:"/dashboard",label:"Dashboard",icon:o.A}];function C(e){var r,s,l;let{children:o,onAddExpense:g}=e,{user:C,loading:S}=(0,u.useUser)(),{userProfile:D,loading:I}=(0,f.E)(),R=(0,n.useRouter)(),M=(0,n.usePathname)(),P=S||I;(0,t.useEffect)(()=>{S||C||R.replace("/login")},[C,S,R]);let F=async()=>{let e=(0,p.xI)();await e.signOut(),R.push("/login")},_=null==D||null==(r=D.name)?void 0:r.split(" ")[0];return S||!C?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)("p",{children:"Carregando... Por favor, aguarde!"})}):(0,a.jsxs)("div",{className:"grid min-h-screen w-full md:grid-cols-[220px_1fr] lg:grid-cols-[280px_1fr]",children:[(0,a.jsx)("aside",{className:"hidden border-r bg-muted/40 md:block",children:(0,a.jsxs)("div",{className:"flex h-full max-h-screen flex-col gap-2",children:[(0,a.jsx)("div",{className:"flex h-16 items-center border-b px-6",children:(0,a.jsx)(w.g,{})}),(0,a.jsx)("div",{className:"flex-1 overflow-auto py-2",children:(0,a.jsx)("nav",{className:"grid items-start px-4 text-sm font-medium",children:A.map(e=>{let{href:r,label:s,icon:t}=e,l=M.startsWith(r);return(0,a.jsxs)(i(),{href:r,className:(0,y.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary",l&&"bg-muted text-primary"),children:[(0,a.jsx)(t,{className:"h-4 w-4"}),s]},r)})})})]})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("header",{className:"flex h-16 items-center gap-4 border-b bg-muted/40 px-4 md:px-6 justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"md:hidden flex items-center gap-2",children:_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-7 w-7 text-primary"}),(0,a.jsxs)("span",{className:"font-semibold text-lg",children:["Ol\xe1, ",_]})]}):(0,a.jsx)(w.g,{})}),(0,a.jsx)("div",{className:"hidden md:block",children:_?(0,a.jsxs)("span",{className:"font-semibold text-lg",children:["Ol\xe1, ",_]}):(0,a.jsx)(w.g,{})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 md:gap-2 lg:gap-4",children:[(0,a.jsx)("div",{className:"hidden md:block",children:g&&(0,a.jsxs)(j.$,{onClick:g,size:"sm",children:[(0,a.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Adicionar Despesa"]})}),(0,a.jsx)(b.U,{}),(0,a.jsxs)(k.rI,{children:[(0,a.jsx)(k.ty,{asChild:!0,children:(0,a.jsxs)(j.$,{variant:"secondary",size:"icon",className:"rounded-full",children:[(0,a.jsx)(N,{className:"h-8 w-8",children:(0,a.jsx)(v,{children:null!=(l=null==(s=C.email)?void 0:s[0].toUpperCase())?l:"?"})}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle user menu"})]})}),(0,a.jsxs)(k.SQ,{align:"end",children:[(0,a.jsx)(k.lp,{children:C.email}),(0,a.jsx)(k.mB,{}),(0,a.jsxs)(k._2,{onClick:()=>R.push("/profile"),children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Perfil"]}),(0,a.jsxs)(k._2,{onClick:()=>R.push("/settings"),children:[(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Cadastros"]}),(0,a.jsx)(k.mB,{}),(0,a.jsxs)(k._2,{onClick:F,className:"text-destructive",children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Sair"]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,a.jsx)("main",{className:"flex-1 flex flex-col gap-4 p-4 md:gap-8 md:p-8",children:P?(0,a.jsx)("div",{className:"flex h-full flex-1 items-center justify-center",children:(0,a.jsx)("p",{children:"Carregando... Por favor, aguarde!"})}):o}),(0,a.jsx)("footer",{className:"md:hidden sticky bottom-0 left-0 z-50 w-full border-t bg-background",children:(0,a.jsxs)("nav",{className:"grid h-16 grid-cols-3 items-center justify-center text-xs",children:[A.map(e=>{let{href:r,label:s,icon:t}=e,l=M.startsWith(r);return(0,a.jsxs)(i(),{href:r,className:(0,y.cn)("flex flex-col items-center gap-1 p-1 text-muted-foreground hover:text-primary",l&&"text-primary"),children:[(0,a.jsx)(t,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-center",children:s})]},r)}),(0,a.jsx)("div",{className:"flex justify-center",children:g&&(0,a.jsxs)(j.$,{size:"icon",className:"h-14 w-14 rounded-full shadow-lg",onClick:g,children:[(0,a.jsx)(c.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"sr-only",children:"Adicionar Despesa"})]})})]})})]})]})]})}},41962:(e,r,s)=>{"use strict";s.d(r,{P:()=>l});var a=s(43371),t=s(93673);function l(e,r){let s=(0,a.a)(e);if(isNaN(r))return(0,t.w)(e,NaN);if(!r)return s;let l=s.getDate(),i=(0,t.w)(e,s.getTime());return(i.setMonth(s.getMonth()+r+1,0),l>=i.getDate())?i:(s.setFullYear(i.getFullYear(),i.getMonth(),l),s)}},43281:(e,r,s)=>{"use strict";s.d(r,{lV:()=>m,MJ:()=>g,zB:()=>h,eI:()=>p,lR:()=>j,C5:()=>y});var a=s(95155),t=s(12115),l=s(17129),i=s(22544),n=s(64269),d=s(10489);let o=(0,s(83101).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=t.forwardRef((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)(d.b,{ref:r,className:(0,n.cn)(o(),s),...t})});c.displayName=d.b.displayName;let m=i.Op,x=t.createContext({}),h=e=>{let{...r}=e;return(0,a.jsx)(x.Provider,{value:{name:r.name},children:(0,a.jsx)(i.xI,{...r})})},u=()=>{let e=t.useContext(x),r=t.useContext(f),{getFieldState:s,formState:a}=(0,i.xW)(),l=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=r;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},f=t.createContext({}),p=t.forwardRef((e,r)=>{let{className:s,...l}=e,i=t.useId();return(0,a.jsx)(f.Provider,{value:{id:i},children:(0,a.jsx)("div",{ref:r,className:(0,n.cn)("space-y-2",s),...l})})});p.displayName="FormItem";let j=t.forwardRef((e,r)=>{let{className:s,...t}=e,{error:l,formItemId:i}=u();return(0,a.jsx)(c,{ref:r,className:(0,n.cn)(l&&"text-destructive",s),htmlFor:i,...t})});j.displayName="FormLabel";let g=t.forwardRef((e,r)=>{let{...s}=e,{error:t,formItemId:i,formDescriptionId:n,formMessageId:d}=u();return(0,a.jsx)(l.DX,{ref:r,id:i,"aria-describedby":t?"".concat(n," ").concat(d):"".concat(n),"aria-invalid":!!t,...s})});g.displayName="FormControl",t.forwardRef((e,r)=>{let{className:s,...t}=e,{formDescriptionId:l}=u();return(0,a.jsx)("p",{ref:r,id:l,className:(0,n.cn)("text-sm text-muted-foreground",s),...t})}).displayName="FormDescription";let y=t.forwardRef((e,r)=>{var s;let{className:t,children:l,...i}=e,{error:d,formMessageId:o}=u(),c=d?String(null!=(s=null==d?void 0:d.message)?s:""):l;return c?(0,a.jsx)("p",{ref:r,id:o,className:(0,n.cn)("text-sm font-medium text-destructive",t),...i,children:c}):null});y.displayName="FormMessage"},43371:(e,r,s)=>{"use strict";function a(e){let r=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===r?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===r||"string"==typeof e||"[object String]"===r?e:NaN)}s.d(r,{a:()=>a})},44345:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>j});var a=s(95155),t=s(22544),l=s(66942),i=s(15653),n=s(12115),d=s(38132),o=s(86948),c=s(3998),m=s(65142),x=s(43281),h=s(21952),u=s(15894),f=s(86259);let p=i.Ik({name:i.Yj().min(3,"O nome deve ter pelo menos 3 caracteres."),birthDate:i.Yj().refine(e=>!isNaN(Date.parse(e)),{message:"Data inv\xe1lida. Use o formato AAAA-MM-DD."}),workplace:i.Yj().optional(),position:i.Yj().optional(),role:i.Yj().optional()});function j(){var e,r,s,i,j;let{userProfile:g,updateUserProfile:y,loading:N}=(0,h.E)(),{toast:v}=(0,u.dj)(),b=(0,t.mN)({resolver:(0,l.u)(p),defaultValues:{name:"",birthDate:"",workplace:"",position:"",role:""}});return((0,n.useEffect)(()=>{g&&b.reset({name:g.name||"",birthDate:g.birthDate?g.birthDate.split("T")[0]:"",workplace:g.workplace||"",position:g.position||"",role:g.role||""})},[g,b]),N)?(0,a.jsx)(d.e,{children:(0,a.jsx)("div",{className:"flex h-full flex-1 items-center justify-center",children:(0,a.jsx)("p",{children:"Carregando... Por favor, aguarde!"})})}):(0,a.jsx)(d.e,{children:(0,a.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Perfil"}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsx)(o.ZB,{children:"Informa\xe7\xf5es do Perfil"}),(0,a.jsx)(o.BT,{children:"Atualize suas informa\xe7\xf5es pessoais e profissionais."})]}),(0,a.jsx)(o.Wu,{children:(0,a.jsx)(x.lV,{...b,children:(0,a.jsxs)("form",{onSubmit:b.handleSubmit(e=>{y(e),v({title:"Perfil Atualizado!",description:"Suas informa\xe7\xf5es foram salvas com sucesso."})}),className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:"Informa\xe7\xf5es Pessoais"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(x.eI,{children:[(0,a.jsx)(x.lR,{children:"Nome"}),(0,a.jsx)(x.MJ,{children:(0,a.jsx)(m.p,{placeholder:"Seu nome completo",...b.register("name")})}),(0,a.jsx)(x.C5,{children:null==(e=b.formState.errors.name)?void 0:e.message})]}),(0,a.jsxs)(x.eI,{children:[(0,a.jsx)(x.lR,{children:"Data de Nascimento"}),(0,a.jsx)(x.MJ,{children:(0,a.jsx)(m.p,{type:"date",...b.register("birthDate")})}),(0,a.jsx)(x.C5,{children:null==(r=b.formState.errors.birthDate)?void 0:r.message})]})]}),(0,a.jsx)(f.w,{}),(0,a.jsx)("h3",{className:"text-lg font-bold",children:"Informa\xe7\xf5es Profissionais"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(x.eI,{children:[(0,a.jsx)(x.lR,{children:"Local de Trabalho"}),(0,a.jsx)(x.MJ,{children:(0,a.jsx)(m.p,{placeholder:"Onde voc\xea trabalha",...b.register("workplace")})}),(0,a.jsx)(x.C5,{children:null==(s=b.formState.errors.workplace)?void 0:s.message})]}),(0,a.jsxs)(x.eI,{children:[(0,a.jsx)(x.lR,{children:"Cargo"}),(0,a.jsx)(x.MJ,{children:(0,a.jsx)(m.p,{placeholder:"Seu cargo",...b.register("position")})}),(0,a.jsx)(x.C5,{children:null==(i=b.formState.errors.position)?void 0:i.message})]}),(0,a.jsxs)(x.eI,{children:[(0,a.jsx)(x.lR,{children:"Fun\xe7\xe3o"}),(0,a.jsx)(x.MJ,{children:(0,a.jsx)(m.p,{placeholder:"Sua fun\xe7\xe3o",...b.register("role")})}),(0,a.jsx)(x.C5,{children:null==(j=b.formState.errors.role)?void 0:j.message})]})]}),(0,a.jsx)(c.$,{type:"submit",disabled:b.formState.isSubmitting,children:b.formState.isSubmitting?"Salvando...":"Salvar Altera\xe7\xf5es"})]})})})]})]})})}},47691:(e,r,s)=>{"use strict";s.d(r,{o:()=>t});var a=s(43371);function t(e){let r=(0,a.a)(e);return r.setHours(0,0,0,0),r}},57268:(e,r,s)=>{"use strict";s.d(r,{b:()=>o});var a=s(12115),t=s(88142),l=s(95155),i="horizontal",n=["horizontal","vertical"],d=a.forwardRef((e,r)=>{var s;let{decorative:a,orientation:d=i,...o}=e,c=(s=d,n.includes(s))?d:i;return(0,l.jsx)(t.sG.div,{"data-orientation":c,...a?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...o,ref:r})});d.displayName="Separator";var o=d},60997:(e,r,s)=>{Promise.resolve().then(s.bind(s,44345))},65142:(e,r,s)=>{"use strict";s.d(r,{p:()=>i});var a=s(95155),t=s(12115),l=s(64269);let i=t.forwardRef((e,r)=>{let{className:s,type:t,...i}=e;return(0,a.jsx)("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...i})});i.displayName="Input"},75004:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(14294).A)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},86259:(e,r,s)=>{"use strict";s.d(r,{w:()=>n});var a=s(95155),t=s(12115),l=s(57268),i=s(64269);let n=t.forwardRef((e,r)=>{let{className:s,orientation:t="horizontal",decorative:n=!0,...d}=e;return(0,a.jsx)(l.b,{ref:r,decorative:n,orientation:t,className:(0,i.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",s),...d})});n.displayName=l.b.displayName},93673:(e,r,s)=>{"use strict";function a(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}s.d(r,{w:()=>a})},98428:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=(0,s(14294).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])}},e=>{e.O(0,[992,644,491,368,434,548,504,171,781,952,441,493,358],()=>e(e.s=60997)),_N_E=e.O()}]);